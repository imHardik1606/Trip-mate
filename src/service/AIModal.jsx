import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Best time to visit each place, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format. start with hotels array"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for Las Vegas on a budget for a couple, keeping hotel options and a 3-day itinerary in mind.  I've focused on free or low-cost activities and dining.\n\n```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 35,\n      \"hotelImageUrl\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/23220191.jpg?k=be7c8e347b29d880a5b51f97f69b5b3f3521f555893f6184b89161c639c6a799&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1266,\n        \"longitude\": -115.1667\n      },\n      \"rating\": 3.5,\n      \"description\": \"Budget-friendly hotel on the Strip with a circus theme. Offers free circus acts, a casino, and several dining options.  Older but often the cheapest option on the Strip.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 40,\n      \"hotelImageUrl\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/23220191.jpg?k=be7c8e347b29d880a5b51f97f69b5b3f3521f555893f6184b89161c639c6a799&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0986,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel and casino at the south end of the Strip.  More updated than Circus Circus, with a variety of restaurants and entertainment.\"\n    },\n        {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": 45,\n      \"hotelImageUrl\": \"https://www.casino.org/news/wp-content/uploads/2022/08/luxor-hotel-casino-las-vegas-exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 4.2,\n      \"description\": \"Egyptian-themed hotel with a distinctive pyramid shape.  Has a variety of attractions, restaurants, and a casino. A good mid-range budget option.\"\n    }\n  ],\n  \"itinerary\": [{\n   \"day\": \"day1\": {\n      \"theme\": \"The Strip & Free Attractions\",\n      ,\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n \"bestTimeToVisit\": \"Morning and Evening\"        \"placeDetails\": \"Iconic sign for photos.  Can be crowded.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/02/las-vegas-sign-1440x810.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1733\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTime : 30mins\": \"Short walk or ride-share from many hotels.\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n  \"bestTimeToVisit\": \"Morning and Evening\"        \"placeDetails\": \"Beautiful floral displays that change seasonally. Free to enter.\",\n          \"placeImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wnlv/images/amenities/conservatory/conservatory-2024-winter/conservatory-1440x810.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"travelTime : 30mins\": \"Walking distance on the Strip.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n \"bestTimeToVisit\": \"Morning and Evening\"         \"placeDetails\": \"Spectacular water show set to music. Runs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/08/bellagio-fountains-day-1440x810.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"travelTime : 30mins\": \"Walking distance on the Strip.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n    \"bestTimeToVisit\": \"Morning and Evening\"      \"placeDetails\": \"Soak in the atmosphere, window shop, and people-watch.  See the themed hotels.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/64c56e97513d4ff63827a38c/master/w_1920,c_limit/Las%20Vegas%20Strip.jpeg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"travelTime : 30mins\": \"All day\"\n        },\n                {\n          \"placeName\": \"Fremont Street Experience (Evening)\",\n    \"bestTimeToVisit\": \"Morning and Evening\"      \"placeDetails\": \"Light show on a canopy screen, street performers, and casinos.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/08/fremont-street-experience-1440x810.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1427\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street may cost)\",\n          \"rating\": 4.7,\n          \"travelTime : 30mins\": \"30-minute ride-share or bus from the Strip.\"\n        }\n      ],\n      \"foodSuggestion\": \"In-N-Out Burger (multiple locations) for a cheap and iconic Vegas meal. Or grab affordable eats at food courts within the casinos.\"\n    },\n    \"day:\" \"day2\": {\n      \"theme\": \"Downtown & Budget Entertainment\",\n      \"bestTimeToVisit\": \"Daytime and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Gold and Silver Pawn Shop (Pawn Stars)\",\n          \"placeDetails\": \"Famous pawn shop from the TV show.  Expect crowds.\",\n   \"bestTimeToVisit\": \"Morning and Evening\"       \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Gold_%26_Silver_Pawn_Shop.jpg/1280px-Gold_%26_Silver_Pawn_Shop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1785,\n            \"longitude\": -115.1506\n          },\n          \"ticketPricing\": \"Free to enter, purchases vary.\",\n          \"rating\": 4.0,\n          \"travelTime : 30mins\": \"Short ride-share from Fremont Street.\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n  \"bestTimeToVisit\": \"Morning and Evening\"        \"placeDetails\": \"Unique shopping and dining complex built from shipping containers.  Features a playground and events.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/04/downtown-container-park-1440x810.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1685,\n            \"longitude\": -115.1407\n          },\n          \"ticketPricing\": \"Free to enter, purchases vary.\",\n          \"rating\": 4.3,\n          \"travelTime : 30mins\": \"Walking distance from Fremont Street.\"\n        },\n        {\n          \"placeName\": \"The Mob Museum\",\n   \"bestTimeToVisit\": \"Morning and Evening\"       \"placeDetails\": \"Interesting museum about the history of organized crime. (Consider if budget allows)\",\n          \"placeImageUrl\": \"https://media.tacdn.com/media/attractions-splice-spp-720x480/07/3b/0d/1e.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1697,\n            \"longitude\": -115.1453\n          },\n          \"ticketPricing\": \"$29.95 per person\",\n          \"rating\": 4.6,\n          \"travelTime : 30mins\": \"Walking distance from Fremont Street.\"\n        },\n        {\n          \"placeName\": \"Neon Museum Boneyard (Optional)\",\n     \"bestTimeToVisit\": \"Morning and Evening\"     \"placeDetails\": \"Outdoor collection of vintage Las Vegas signs.  Requires a ticket.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/03/neon-museum-1440x810.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1781,\n            \"longitude\": -115.1406\n          },\n          \"ticketPricing\": \"$30-$38 per person for guided tour.\",\n          \"rating\": 4.7,\n          \"travelTime : 30mins\": \"Short ride-share from Fremont Street.\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional Evening)\",\n \"bestTimeToVisit\": \"Morning and Evening\"         \"placeDetails\": \"30-minute ride in a cabin with panoramic views of the city. (Consider if budget allows)\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/Destinations/High-Roller/Secondary/high-roller-gallery-01.jpg.transform/clv-w840/image.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1686\n          },\n          \"ticketPricing\": \"$25-$37 per person depending on time of day.\",\n          \"rating\": 4.5,\n          \"travelTime : 30mins\": \"Ride share from downtown.\"\n        }\n      ],\n       \"foodSuggestion\": \"Heart Attack Grill for a very unique (and potentially unhealthy) experience, but budget-friendly.  Or explore the various cheap eats options in Downtown casinos.\"\n    },\n   \"day:\" \"day3\": {\n      \"theme\": \"Nature & Departure\",\n      \"bestTimeToVisit\": \"Morning\",\n      \"places\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n    \"bestTimeToVisit\": \"Morning and Evening\"      \"placeDetails\": \"Scenic desert landscape with hiking trails and a 13-mile scenic drive.\",\n          \"placeImageUrl\": \"https://www.redrockcanyonlv.org/wp-content/uploads/2016/02/1280x720-red-rock-canyon-entrance.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1497,\n            \"longitude\": -115.4138\n          },\n          \"ticketPricing\": \"$15 per vehicle (entry fee)\",\n          \"rating\": 4.8,\n          \"travelTime : 30mins\": \"30-minute drive from the Strip.  Requires a rental car or ride-share (ride-share will be expensive).\"\n        },\n        {\n          \"placeName\": \"Hoover Dam (if time allows, further drive)\",\n    \"bestTimeToVisit\": \"Morning and Evening\"      \"placeDetails\": \"Impressive engineering feat and historical landmark.\",\n          \"placeImageUrl\": \"https://www.usbr.gov/lc/hooverdam/images/Aerial.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0157,\n            \"longitude\": -114.7372\n          },\n          \"ticketPricing\": \"$10 per person for the visitor center, tours are extra.\",\n          \"rating\": 4.7,\n          \"travelTime : 30mins\": \"45-minute drive from Las Vegas after Red Rock Canyon.\"\n        }\n      ],\n      \"foodSuggestion\": \"Pack a picnic lunch for Red Rock Canyon to save money.  Grab a quick and cheap meal near your hotel before heading to the airport.\"\n    }\n  }\n}\n]```\n\n**Key Budget Considerations:**\n\n*   **Transportation:**  Walk as much as possible on the Strip.  Consider using the Deuce bus for longer distances. Ride-sharing can be expensive, especially during peak hours.\n*   **Food:**  Take advantage of cheap eats options like fast food, food courts, and grocery stores. Happy hour specials can also save money.\n*   **Drinks:** Alcohol in Las Vegas can be expensive. Consider buying drinks at a liquor store to enjoy in your hotel room before heading out.\n*   **Gambling:**  Set a budget and stick to it.  Avoid high-limit games.\n*   **Shows:**  Look for free shows (like the Bellagio fountains). Discount ticket booths might offer deals on some paid shows, but research carefully.\n\n**Important Notes:**\n\n*   **Prices are estimates:** Hotel and ticket prices can fluctuate significantly based on the time of year, day of the week, and demand.  Book in advance for the best deals.\n*   **Flexibility:** Be prepared to adjust your itinerary based on your budget and interests.\n*   **Safety:** Be aware of your surroundings, especially at night.\n\nEnjoy your trip to Las Vegas!  Remember to check the official websites for the most up-to-date information on pricing and hours of operation.\n"},
          ],
        },
      ],
    });